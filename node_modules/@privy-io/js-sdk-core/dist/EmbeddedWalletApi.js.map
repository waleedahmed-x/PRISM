{"version":3,"file":"EmbeddedWalletApi.js","sources":["../src/EmbeddedWalletApi.ts"],"sourcesContent":[null],"names":["EmbeddedWalletApi","_privyInternal","_proxy","_chains","Array","from","DEFAULT_SUPPORTED_CHAINS","constructor","privyInternal","embeddedWalletMessagePoster","chains","this","EmbeddedWalletProxy","setMessagePoster","poster","create","password","recoveryMethod","recoveryToken","recoverySecretOverride","iCloudRecordNameOverride","Error","parsedRecoveryMethod","config","embedded_wallet_config","require_user_password_on_create","accessToken","getAccessToken","address","recoveryPassword","recoveryAccessToken","user","refreshSession","provider","EmbeddedWalletProvider","walletProxy","createSolana","opts","PrivyClientError","error","code","ethereumAccount","recovery_method","getProvider","publicKey","ethereumAddress","callbacks","setUser","EmbeddedSolanaWalletProvider","hasEmbeddedWallet","token","_getEmbeddedWallet","isPasswordRequired","embeddedWallet","connect","e","errorIndicatesRecoveryIsNeeded","wallet","_load","getSolanaProvider","_loadSolana","setPassword","setRecovery","recoveryArgs","throwIfInvalidRecoveryUpgradePath","currentRecoveryMethod","upgradeToRecoveryMethod","existingRecoveryMethod","createAnalyticsEvent","target_recovery_method","existing_recovery_method","undefined","message","getURL","url","URL","baseUrl","appId","caid","searchParams","append","appClientId","href","getMessageHandler","handleEmbeddedWalletMessages","bind","onMessage","event","ping","timeoutMs","console","err","recovered","recover","includes","public_key","connectSolana","recoverSolana","linked_accounts","find","account","type","connector_type","wallet_client_type"],"mappings":"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"}