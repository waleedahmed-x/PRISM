{"version":3,"file":"EmbeddedWalletProvider.js","sources":["../../src/embedded/EmbeddedWalletProvider.ts"],"sourcesContent":[null],"names":["EmbeddedWalletProvider","EventEmitter","_walletProxy","_privyInternal","_address","_chainId","_chains","_jsonRpcProvider","constructor","walletProxy","privyInternal","address","chains","chainId","id","super","this","getJsonRpcProvider","rpcUrls","appId","request","isSupportedIframeRpcMethod","method","handleIFrameRpc","toString","handleSwitchEthereumChain","handleEstimateGas","data","params","handleSendTransaction","handlePopulateTransaction","handleJsonRpc","ensureChainId","tx","ensureTxChainId","internalSwitchEthereumChain","Number","emit","txRequest","populateTransactionRequest","populatedTx","signedTx","args","Array","isArray","Error","gasPrice","maxFeePerGas","maxPriorityFeePerGas","send","error","console","warn","from","retryError","EmbeddedProviderError","newChain","token","getAccessToken","createAnalyticsEvent","result","rpc","accessToken","response","message","PrivyClientError","code","toJSON"],"mappings":"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"}